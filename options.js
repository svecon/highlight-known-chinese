var ta = document.getElementById("knownwords-textarea");
var knownSlider = document.getElementById('known-slider');

var mostFrequentChars = '的一是不了在人有我他这个们中来上大为和国地到以说时要就出会可也你对生能而子那得于着下自之年过发后作里用道行所然家种事成方多经么去法学如都同现当没动面起看定天分还进好小部其些主样理心她本前开但因只从想实日军者意无力它与长把机十民第公此已工使情明性知全三又关点正业外将两高间由问很最重并物手应战向头文体政美相见被利什二等产或新己制身果加西斯月话合回特代内信表化老给世位次度门任常先海通教儿原东声提立及比员解水名真论处走义各入几口认条平系气题活尔更别打女变四神总何电数安少报才结反受目太量再感建务做接必场件计管期市直德资命山金指克许统区保至队形社便空决治展马科司五基眼书非则听白却界达光放强即像难且权思王象完设式色路记南品住告类求据程北边死张该交规万取拉格望觉术领共确传师观清今切院让识候带导争运笑飞风步改收根干造言联持组每济车亲极林服快办议往元英士证近失转夫令准布始怎呢存未远叫台单影具罗字爱击流备兵连调深商算质团集百需价花党华城石级整府离况亚请技际约示复病息究线似官火断精满支视消越器容照须九增研写称企八功吗包片史委乎查轻易早曾除农找装广显吧阿李标谈吃图念六引历首医局突专费号尽另周较注语仅考落青随选列武红响虽推势参希古众构房半节土投某案黑维革划敌致陈律足态护七兴派孩验责营星够章音跟志底站严巴例防族供效续施留讲型料终答紧黄绝奇察母京段依批群项故按河米围江织害斗双境客纪采举杀攻父苏密低朝友诉止细愿千值仍男钱破网热助倒育属坐帝限船脸职速刻乐否刚威毛状率甚独球般普怕弹校苦创假久错承印晚兰试股拿脑预谁益阳若哪微尼继送急血惊伤素药适波夜省初喜卫源食险待述陆习置居劳财环排福纳欢雷警获模充负云停木游龙树疑层冷洲冲射略范竟句室异激汉村哈策演简卡罪判担州静退既衣您宗积余痛检差富灵协角占配征修皮挥胜降阶审沉坚善妈刘读啊超免压银买皇养伊怀执副乱抗犯追帮宣佛岁航优怪香著田铁控税左右份穿艺背阵草脚概恶块顿敢守酒岛托央户烈洋哥索胡款靠评版宝座释景顾弟登货互付伯慢欧换闻危忙核暗姐介坏讨丽良序升监临亮露永呼味野架域沙掉括舰鱼杂误湾吉减编楚肯测败屋跑梦散温困剑渐封救贵枪缺楼县尚毫移娘朋画班智亦耳恩短掌恐遗固席松秘谢鲁遇康虑幸均销钟诗藏赶剧票损忽巨炮旧端探湖录叶春乡附吸予礼港雨呀板庭妇归睛饭额含顺输摇招婚脱补谓督毒油疗旅泽材灭逐莫笔亡鲜词圣择寻厂睡博勒烟授诺伦岸奥唐卖俄炸载洛健堂旁宫喝借君禁阴园谋宋避抓荣姑孙逃牙束跳顶玉镇雪午练迫爷篇肉嘴馆遍凡础洞卷坦牛宁纸诸训私庄祖丝翻暴森塔默握戏隐熟骨访弱蒙歌店鬼软典欲萨伙遭盘爸扩盖弄雄稳忘亿刺拥徒姆杨齐赛趣曲刀床迎冰虚玩析窗醒妻透购替塞努休虎扬途侵刑绿兄迅套贸毕唯谷轮库迹尤竞街促延震弃甲伟麻川申缓潜闪售灯针哲络抵朱埃抱鼓植纯夏忍页杰筑折郑贝尊吴秀混臣雅振染盛怒舞圆搞狂措姓残秋培迷诚宽宇猛摆梅毁伸摩盟末乃悲拍丁赵硬麦蒋操耶阻订彩抽赞魔纷沿喊违妹浪汇币丰蓝殊献桌啦瓦莱援译夺汽烧距裁偏符勇触课敬哭懂墙袭召罚侠厅拜巧侧韩冒债曼融惯享戴童犹乘挂奖绍厚纵障讯涉彻刊丈爆乌役描洗玛患妙镜唱烦签仙彼弗症仿倾牌陷鸟轰咱菜闭奋庆撤泪茶疾缘播朗杜奶季丹狗尾仪偷奔珠虫驻孔宜艾桥淡翼恨繁寒伴叹旦愈潮粮缩罢聚径恰挑袋灰捕徐珍幕映裂泰隔启尖忠累炎暂估泛荒偿横拒瑞忆孤鼻闹羊呆厉衡胞零穷舍码赫婆魂灾洪腿胆津俗辩胸晓劲贫仁偶辑邦恢赖圈摸仰润堆碰艇稍迟辆废净凶署壁御奉旋冬矿抬蛋晨伏吹鸡倍糊秦盾杯租骑乏隆诊奴摄丧污渡旗甘耐凭扎抢绪粗肩梁幻菲皆碎宙叔岩荡综爬荷悉蒂返井壮薄悄扫敏碍殖详迪矛霍允幅撒剩凯颗骂赏液番箱贴漫酸郎腰舒眉忧浮辛恋餐吓挺励辞艘键伍峰尺昨黎辈贯侦滑券崇扰宪绕趋慈乔阅汗枝拖墨胁插箭腊粉泥氏彭拔骗凤慧媒佩愤扑龄驱惜豪掩兼跃尸肃帕驶堡届欣惠册储飘桑闲惨洁踪勃宾频仇磨递邪撞拟滚奏巡颜剂绩贡疯坡瞧截燃焦殿伪柳锁逼颇昏劝呈搜勤戒驾漂饮曹朵仔柔俩孟腐幼践籍牧凉牲佳娜浓芳稿竹腹跌逻垂遵脉貌柏狱猜怜惑陶兽帐饰贷昌叙躺钢沟寄扶铺邓寿惧询汤盗肥尝匆辉奈扣廷澳嘛董迁凝慰厌脏腾幽怨鞋丢埋泉涌辖躲晋紫艰魏吾慌祝邮吐狠鉴曰械咬邻赤挤弯椅陪割揭韦悟聪雾锋梯猫祥阔誉筹丛牵鸣沈阁穆屈旨袖猎臂蛇贺柱抛鼠瑟戈牢逊迈欺吨琴衰瓶恼燕仲诱狼池疼卢仗冠粒遥吕玄尘冯抚浅敦纠钻晶岂峡苍喷耗凌敲菌赔涂粹扁亏寂煤熊恭湿循暖糖赋抑秩帽哀宿踏烂袁侯抖夹昆肝擦猪炼恒慎搬纽纹玻渔磁铜齿跨押怖漠疲叛遣兹祭醉拳弥斜档稀捷肤疫肿豆削岗晃吞宏癌肚隶履涨耀扭坛拨沃绘伐堪仆郭牺歼墓雇廉契拼惩捉覆刷劫嫌瓜歇雕闷乳串娃缴唤赢莲霸桃妥瘦搭赴岳嘉舱俊址庞耕锐缝悔邀玲惟斥宅添挖呵讼氧浩羽斤酷掠妖祸侍乙妨贪挣汪尿莉悬唇翰仓轨枚盐览傅帅庙芬屏寺胖璃愚滴疏萧姿颤丑劣柯寸扔盯辱匹俱辨饿蜂哦腔郁溃谨糟葛苗肠忌溜鸿爵鹏鹰笼丘桂滋聊挡纲肌茨壳痕碗穴膀卓贤卧膜毅锦欠哩函茫昂薛皱夸豫胃舌剥傲拾窝睁携陵哼棉晴铃填饲渴吻扮逆脆喘罩卜炉柴愉绳胎蓄眠竭喂傻慕浑奸扇柜悦拦诞饱乾泡贼亭夕爹酬儒姻卵氛泄杆挨僧蜜吟猩遂狭肖甜霞驳裕顽於摘矮秒卿畜咽披辅勾盆疆赌塑畏吵囊嗯泊肺骤缠冈羞瞪吊贾漏斑涛悠鹿俘锡卑葬铭滩嫁催璇翅盒蛮矣潘歧赐鲍锅廊拆灌勉盲宰佐啥胀扯禧辽抹筒棋裤唉朴咐孕誓喉妄拘链驰栏逝窃艳臭纤玑棵趁匠盈翁愁瞬婴孝颈倘浙谅蔽畅赠妮莎尉冻跪闯葡后厨鸭颠遮谊圳吁仑辟瘤嫂陀框谭亨钦庸歉芝吼甫衫摊宴嘱衷娇陕矩浦讶耸裸碧摧薪淋耻胶屠鹅饥盼脖虹翠崩账萍逢赚撑翔倡绵猴枯巫昭怔渊凑溪蠢禅阐旺寓藤匪伞碑挪琼脂谎慨菩萄狮掘抄岭晕逮砍掏狄晰罕挽脾舟痴蔡剪脊弓懒叉拐喃僚捐姊骚拓歪粘柄坑陌窄湘兆崖骄刹鞭芒筋聘钩棍嚷腺弦焰耍俯厘愣厦恳饶钉寡憾摔叠惹喻谱愧煌徽溶坠煞巾滥洒堵瓷咒姨棒郡浴媚稣淮哎屁漆淫巢吩撰啸滞玫硕钓蝶膝姚茂躯吏猿寨恕渠戚辰舶颁惶狐讽笨袍嘲啡泼衔倦涵雀旬僵撕肢垄夷逸茅侨舆窑涅蒲谦杭噢弊勋刮郊凄捧浸砖鼎篮蒸饼亩肾陡爪兔殷贞荐哑炭坟眨搏咳拢舅昧擅爽咖搁禄雌哨巩绢螺裹昔轩谬谍龟媳姜瞎冤鸦蓬巷琳栽沾诈斋瞒彪厄咨纺罐桶壤糕颂膨谐垒咕隙辣绑宠嘿兑霉挫稽辐乞纱裙嘻哇绣杖塘衍轴攀膊譬斌祈踢肆坎轿棚泣屡躁邱凰溢椎砸趟帘帆栖窜丸斩堤塌贩厢掀喀乖谜捏阎滨虏匙芦苹卸沼钥株祷剖熙哗劈怯棠胳桩瑰娱娶沫嗓蹲焚淘嫩韵衬匈钧竖峻豹捞菊鄙魄兜哄颖镑屑蚁壶怡渗秃迦旱哟咸焉谴宛稻铸锻伽詹毙恍贬烛骇芯汁桓坊驴朽靖佣汝碌迄冀荆崔雁绅珊榜诵傍彦醇笛禽勿娟瞄幢寇睹贿踩霆呜拱妃蔑谕缚诡篷淹腕煮倩卒勘馨逗甸贱炒灿敞蜡囚栗辜垫妒魁谣寞蜀甩涯枕丐泳奎泌逾叮黛燥掷藉枢憎鲸弘倚侮藩拂鹤蚀浆芙垃烤晒霜剿蕴圾绸屿氢驼妆捆铅逛淑榴丙痒钞蹄犬躬昼藻蛛褐颊奠募耽蹈陋侣魅岚侄虐堕陛莹荫狡阀绞膏垮茎缅喇绒搅凳梭丫姬诏钮棺耿缔懈嫉灶匀嗣鸽澡凿纬沸畴刃遏烁嗅叭熬瞥骸奢拙栋毯桐砂莽泻坪梳杉晤稚蔬蝇捣顷么尴镖诧尬硫嚼羡沦沪旷彬芽狸冥碳咧惕暑咯萝汹腥窥俺潭崎麟捡拯厥澄萎哉涡滔暇溯鳞酿茵愕瞅暮衙诫斧兮焕棕佑嘶妓喧蓉删樱伺嗡娥梢坝蚕敷澜杏绥冶庇挠搂倏聂婉噪稼鳍菱盏匿吱寝揽髓秉哺矢啪帜邵嗽挟缸揉腻驯缆晌瘫贮觅朦僻隋蔓咋嵌虔畔琐碟涩胧嘟蹦冢浏裔襟叨诀旭虾簿啤擒枣嘎苑牟呕骆凸熄兀喔裳凹赎屯膛浇灼裘砰棘橡碱聋姥瑜毋娅沮萌俏黯撇粟粪尹苟癫蚂禹廖俭帖煎缕窦簇棱叩呐瑶墅莺烫蛙歹伶葱哮眩坤廓讳啼乍瓣矫跋枉梗厕琢讥釉窟敛轼庐胚呻绰扼懿炯竿慷虞锤栓桨蚊磅孽惭戳禀鄂馈垣溅咚钙礁彰豁眯磷雯墟迂瞻颅琉悼蝴拣渺眷悯汰慑婶斐嘘镶炕宦趴绷窘襄珀嚣拚酌浊毓撼嗜扛峭磕翘槽淌栅颓熏瑛颐忖牡缀徊梨肪涕惫摹踱肘熔挚氯凛绎庶脯迭睦窍粥庵沧怠沁奕咙氨矗盔拇沛榻揣崭鞘鞠垦洽唾橱仕蜘痰袜峙柬蝉蟹谏鹃擎皓朕疤禺铲酶钝氓匣弧峨锥揪杠吭崛诬冉抒庚悍靡晦醋壕锯夭咦侈婢猾徘硝煽皂舵嗦狈靴捂疮郝苛秽茜搓芸酱赁檐饷蕉铀苔赦缎舷筷朔婪紊厮婿寥兢糙卦槐扒裴祀埔絮芭屉痪霄绽宵邑霖岔饵茄韧琪邹瑚憋殆噜忒忿衅淳悖髦孜粤隘濒铮畸剔坞篱淀蓦唬锣汀趾缉嫦斟鞍扳拴诅谟呃懦逞犁忏拧亥佟叱舜绊龚腮邸椒蔚湛狩眶栈薇肮瀑渣褂叽臀妞巍唔疚鲤戎肇笃辙娴阮札懊焘恤疹潇铝涤恃喽砌遁楞阱咎洼炳噬枫拷哆矶苇翩窒侬靶胰芜辫嚎妾幌踉佃葫皖拽滤睬俞匕谤嗤捍孵倪瘾敝匡磋绫淆尧蕊烘璋亢轧赂蝗榆骏诛勺梵炽笠颌闸狒樊镕垢瘟缪菇琦剃迸溺炫惚嗨陨赃羁臻嘀膳赣踌殉桔瞿闽豚掺沌惰喳椭咪霎侃猝窖戮祠瞩菁躇佬肋咄忡雍忱蕾跄硅伎炊钊蝠屎拭谛褪丞卉隧茸钳啃伢闺舔蹬挛眺袱陇殴柿梧惺弛侥琛捅酝薯曳澈锈稠眸咆簧鸥疡渎汲嬉脓骡穗槛拎巳邢廿搀曙樵隅筛谒倭痹猖佯肛奚甭抨蛾唠荧嵩漱酋攘诘篡睿噩怅盎徙鞅漓祟睫攸翎呛筐堑檀寅磊驭惘吠驮瑙炬痉曝恺胺萤敕筝幡霹竺烙毗鸠埠蒜阜嘈乒帷啄鳌毡阙褥搔笋冕狞韶骼蔼烹奄嫖沐噗岑蛟掳咏弩捻圃孚悴诣呱祁捶钠袄澎氮恪雏撮堰彷鹦晖犀腑沽橄掐亵龋嗒咀祺锚匾乓萃贻揖觑吝憔羌诲砾蠕肴撩坍酥袅黝俾嫣穹秧妊溉鹊聿疙蘑睾楷酵茹锌滇辗纂圭幔褒揍诽倔腓颉锄嗔磺攒瘩雳吆悚墩彝囱逍辄桅俨纶悸殃帧俐绮袒籽孰愫拌橙暨敖赘抉淤剌娼顼葵哝酣麓钵琅簸禾铢璧娠彗惋腋螂阪掣劾沥粱嚓惮氖捎羔俟渲榄茧霓鹉胥琶撬橘医拈笆痊亟渭狙珂刨蜕谚憧瞟馒拗帚钗哧喋箫刁怦缭迥湄磐渝冗闵噶黏蕃弼驿淄饺踞韬婷唆蜒偎榨漉碉皈矜笈枷鲨蹑瀚酪谑癖烬揩炙蜷侏凋漪悻蹋讪搐碘帛诠碾擂苯诃铎戊荀驹攫憬哽踵蟒漾啧吮楠氟怂叼竣偕漩蹭翌臆挝绚崽糜瘢跤阑恬豢汶跷琵憨蜗螅惴戟匮恙抿桢笺蛤瞳药瓢衹秤跺潦芹哒饬栩曦骷嫡卤丕鬓梓嗖惦浚咔藐荃唧玺汛铐髅渤皿箍馅汾戍痔褶聆涎汞渍奂巅疣傩逵耆蟋鳄讹膺蹿筏釜沂坯峦茬摒蟀撵浒缤嵋珑苞瑾泵钾暧赓叟佚沓撂蛊甥璐晏瘪漳阉蹂鳃琏湃辘僭躏鼾懵镰寐褚攥涧蝙脐辕涣杞煜骥傣嗳祯酉秸捺瑕鑫馋窿楔胱荔蟆湍屹遐轲镯缰桦炖钡羚啬诩绯掖箓涸鸳塾呸抡擞熹坷瓮亘嗟筵跛汕欤壑颍溥姗踊枭暄稷跚涟瀛笙滕踝贰瞰恻嚏迢獗邯睑赡萦珥酮璞羹缄晾俸媲鸾恿蜿犊讷扈蜈翟藕戌蓓鋆谩谀卯谙岐蝎荼镀椰甄蟾蹊泞撸螃檬猓蔷羲瘸蘸蔗傀蚌锢遽邃恚皑锵簌焙昊鹳睽刽鳖噎呗寰唷殡淖诰恣睐婵榈氦靳蛹鸯惬蹙诙眈罡缮胤皋蛀偌疵绛葆黔喙烽儡佼斓嫔颚龈盅娓坂町芥瘠阂挎橇荟啜垛淇瓒篓虱跻龛蹒髯瞠痫掂潼酰镁灸腆筱谆骋壬茗椋蛔潺扉耘槟雹甬谥淞燎蕙蚪蜻郸轶狰楣捋涓荪娄麝蚤薰醮搪谧湮辍瞌梆樟茉岖臼癣穑玷馍呷萼妩伫彤莓岬媛惆鳎啾囔蜓孺徇徵焊岱昵卅飙邙痞隼恫怆桀绶裆盂桧蚓抠嗷槌痘痢芮蚣闩铿飓疱蝌撅蚯斡窠荚耷砚牒赈煦嗫耙榕鞑袤谌醺秆徨橹翡缨锹嵇圪髻嗬辎痣娩谄蛐鹞翱庖籁蓿鳗疟鲇这嚅瘀颔黜黠濑馁洵忐忑砥咂罹糠匝偃淙纫喏闾祛蛰腼涝曜厩疽闰洄煊汐藓璜铬经渥靼酗苓噤咫椿鲫锭罔锺匍祗锰岌馀畹糯胫熠銮沅棣旌豌孢镭驸腌盹熵镐馐嘤癞骰韭阖瞑裨宕戾镌溟牍隽婊鹄埂拄娲虬萱啵蠡芋胭豺啻褛蛆柠掰篆倌咛蛭谡荨莞澹纭潞郅弋飕螳胄蟑猥宓昙锏蟠过柑烯匐濮蟮祐仄偈蜃箴粼嗥褴蕨蓟圩孪杳魇荤诿簪氲摞飒镂舀夙臧蒿貂蜥蹩噼钛钚獾濂铠晰霭鲈叵霾泯碴鸵峪饕瘁睢鬃迩纣夔垠饨榭隍娑篝榔洌浜鲑谔汩浣舐瞭忻咻鹑唑懋皎诒麾辏氐冽箕俚汴宸芍捱摈摺簦箔咝孀怏谝砧馕耄罂漕沣栾矩烷榷俑沱缜鹫蛳剽衢泗臊瘴酚纾晁孛炀叁憩掬椤啮畿掸镣骁椽侗滦荩泓蚱癜酯体癸蚜扪庑歆蝮蹶弈庋喟滂啕蛎獭槁翊龊邺莘燮剁觐铛谗镍臃墒晔燔嘭涿醯箩鄱睨诤坳鹭砷唏伲猬琥殁蚩泾缥殓鳅氰诋刍芷嶙逅舫呓唰茁馑妫骧苷擢峋袂懑蓑与涞祉踹掇沏诳噫饽饪绺谘飧迳铡枞熨鋈荭赊俦戛湎幺凇芪觯龌挞嬴苻嘁鞯肽恸迨钰儆觎讫滓僮媾龇胯涮绾杈赳斛觥疸卞愠拮庠烨和菠窈罄囤弁奘咣缫腴缈喵潢遛柚郏荻藜琨镳雉橐阳骈蛉艮搽濡寮柩佗啷诜视偻夯闱谖夥枸膑虻筠埽笞臾婀珞粑怵绻殒觊崂颧嗑榛昱蜴鳝噙淼矾硼囿泅邂钜蠹垩乩嗝淦樽诮揆啐淅榉馗辔暹骛鱿苫犷獠詈竦篙诨铰馄蜚峒滢琬靓狻璨犟鸬螨芩嘹锟蜇洹栉俪钍锨瑁壹痿竑粕犄瘙饯抟衲踮龅愎馥梏讣邝艿趺鲟剜绉罅笥衩姣斫鹗肾爻猕晗铩窕仨搡崴酢檄佞孑璀岷舛邕闿铂霁犒馏阈麋麒苁摁涔宥妍铤锷嗲恽麂赝胛哂撷呶撅懔栎桎霰飨揄噔娣薏忝咤嗵迤贲胪鍪泸蔫刈僖咿鹌嗪茏茯岫嵘轱怼铨昕郢咩馊髡澧苣濯盥囡砺佘谶弑楂翦怩蠼霏楹讴锲慵胝砭潍杵樾帼碣诌徕胴钴裟啶铣铱楫赭碛酊魑醛剐畦陂闶阄祚鹘泱趄骅陲郧倜呤燧铉粲骶峁忸渌骞髭戡钨谲苋锃蜊幄闼戕骊虢烩傥妲绌桠袈枪薮揿杲肓厝莅氤缙衮诟旖硒唁嬗硎裱颦质靥纥煨礴鏖蝈笏羿鼐湟甑炜煲锉笕喑嶂浔弭妪锂苡孳颏醴间渚轭鹬蚝黄膘邛痨褡耦覃虚馔篾兖阋遨爰痂艄耨沤邋焓秣昶种变窣绦俎榫蟪稗謇氩类锴龉烃俣嬷肱鸢笫痤阴菏莆芨阕砣碜鼹长猷竽舸诓錾淬隗悌姘槭邈婕歙稹蹴砒痈镏羯豕鲂蓖匦笤峥徭浃烊补窸酆缢褓蚨翳趔炔誊赜仃勖葺蚴泷蛴结媸俳诖茑逡孱寨跸祜伉溴屐飚蛞镜掮崆庾橛矸鸨圻缂蒯诹啭饧镉鸪蛩蠖说劭哐崧杼棂螫龃饔遑颢腱襁忾濠牝蛄鲆嗄灏疥苜荞嘣夤砝颞开忤遢旎瘛魉辇见瓤荥涫娌氚臁毂碇毖壅吡缛玮羟还珈颀虼祇佝翕遴珏郛较验玖蹇逋氅粽诂岢聒髁黍芾淝鲎鞣髋闳潆汨胍阏钤鹜鬈铵戬点崮枰樯脍畲衾蹼题劬咭囫洱刎芏玡碚鳕谪芎恂槿鲢鲧嘧绀郦噱浠潸跏鲶矍苌抻琰鹚龆臬芄呔雒觞钒饫阒槎鸩舂谠阡莒萸妗稔穰蚧餍谯芗菸葩踔厣佻嘌饩钏蠓黩倨肠缬殚钿鎏恁藿囟鄣呋婺绱瓯旃锶酩恹逶缦鸹螟菟阗濉篑醪鲛讦媪邬殇鄯芡嫠肼峤矽讧掼焖愆聩岘靛菖卟姒杷砉袢蚋笳挈关踽黾麽侩凫诔郯韪挲笪鼋莜风菅嵊裢趿箸莴莠阌旯圜涪赍柞嗍囵榧裰笾簟跎巽曷逖骓绔枋镒魃餮讵乜鄢瑭踅馓蟛鳟荛忪阍姹纰桉氪氘垅郃汊娉纡缟旮镢傈堋蔺庥枥腭鹕笮髂魍缁槊跞醚吒枳搿鹧蜍舻鏊禳蒺钹蜢鬻珩卮垭苄苕菀骠袷跹瘘论磬缶笸鸷头芰蕲阆纨琮牦砩蠲锒锕郓妯驷鹩舢趸证养芫嗉蠊笊莸饴阃浯枇焱铆擤柢醢呲溆潴牖硪碓鹆鬣堀帙雱须进诎獐桁蛱鳏郴幂箝僳疝茴揶呦囹螈脲镊锑胨膈痼鳊赅贽处苤峄桡雎鲋鞫鼬獯昀痍蟊疖熘乇羸嵴栀槲炝炷硐锸鹂裾侪诊调珐縯哔屙旆佰僦牯钪掾针仟圮芟崃廪擘笱跗鲅硷苎匏嗾圄彀粳卣勐掴涑玳愍畛赧貉擀湫逦椴铄箧刖鲮訇茱啖悭愀朐畈鹨蛘佶缃晟鲱凼苴颛厍匚徉洙氡胗癯锆佤钱饮细勰钺繇螭嵬轸肟肫村瘿仞奁宄轳熳睇钼蝼跆樗鲰节诶薜铧裥榇馃术蹚怄寤缗硗碡矬鸱虺糅雠帑镧埙啁悒犍硌锩虿蛑艉咴筮艏糁鼍肄籴骜砻蜮龀黢劢肿耪鬯畚觳稞鹁鲲称捌菔獬柘娆篪鲀谰孬伥谇鄄狎闫滟齑遒磔聃綦鲡蔻泠砗钕镫菹胂煅煸螯躅鲠佥罘嶝适坨菽哞徜慊洳渑灞盍钋鸫踯縻萘褫羰脑俅芤隳洮胼罴镛怛芊啉噌嫱绲膻焐里葎亓倮莼蘅嘞缒镆网伧荏唳檩鸶蚬骱蘖澍韫颎嘏垡腚焯繻怙羧鼙倥亳艽荠昴舨魈醣枵粜甙珲杓楸楦疃蛏蠛髌茔临诼嬖耒蜣笄跣钣戆蜉喾铍陉薹岵瓴荽怫钭窀缯倬摭帔楝痱蚶螬髑红鼗狷殛裉粝萋葭衽鳢傧喁嫘罟钌裼愦蝽虽锗衿粢醵跫廛墉哌轻扦堇婧暌镞蹰陟鳔脘脏岿侔郾唿砹疴麸薨綝滁偾拊撺呒狯猢椁榱罾铳裎眦璎认崞缇蝣萑狲缱晷冼痧统蕖狍憷锛窨袼帏儋绨疠蘩嵝庀汜炅煳瓠窳虮蚰邰苊砀捩蹉莪螽觉蘼槔曛蛲鹾隹犸衄观转銎泫玢辊瞋墀酐隐堞尥嚯猗逑逯硖噻嵛畀运鲃偬鄞呖溧嬲肭鹈窭黧谵沆嫒塬缣篯酃喱泔溘迕秫裣铋蒌曩赀箪朊鳙仫钎芑胙盱糇挹捭悱鬟缓请崤澶甾欹瞽钇鹪缡铯鲚组嘬庹渖湔玎锜锊籼阊秘猊燹葑蓼幛岣浼宁瑷钔钫锼锿癔穸褊蚍篦麇樘钯禇铒续莩嵯逭遄戗睃瀣皴泮轫褰炱醍锱篁葚难蒙驽辚睥鸺筇戥髀驺颈哙濞逄桤炻磙疳醭鳇鹮迓眇楮砜谢离约菘栌醐唢獍殳仡软刿薅湓搴尕磴锝镅艚殄暝祢豉垴维瓿煺蟥蹀门黼氙铑积线蒡杪肜膂砬硭酽踟鲷蒴藁猡旒硇哿皤哏殍漯确织连谂跶橥镬鸲姝茭窆髟畋溏鲔显喹绍吣羼缧窬骘赉镓邳璩鸸涠溲孥敉筌义卫响蹓垓苒荸甓镄脔艟选达眬彘檠胩旄祆伛鲥荦暾脉纳缌飏锞趵跖跬僬皲翥祎贡习闭芴菰眙锓訾莳菪槠俜觚撄嵫桴晡爨悫锇锖锘蝾糌柙滹睚办莨尻罨锔筲妣谳钽鈤胀遗鄹菡崦狺杌秭豇鲵蘧阚悝铌预缑瑗椹旰魆蓍蕹钐锬镪绡檎谷茕话缩顾荈侉渫辂欷轾麴戢趼误芈苈歃燠耜顸蚵哓澌郜徼籀陬蕤叻猞洇锎舳缋镗褙耋鰽笔简计语谓裤巯吖猁桷砼锾颟跽悛桕艨颡髹桫松练总胆贝葸屣獒瘌佴锫隰醌万矫鰕岽昃螓垧廨骺黥豳议络护释随荑蓊揎娈嫜毽砑剀薷怃怿骐腧霈蝻雕读坩甏鹇鹣舴鲭傺枘秕糨忉磲颙虫训侑萁葳呙鹋貘葶枨棹纛签规资嶷妁杩鹛羝骖祧给淠畎箨鳐识远溪剡吲嫫戽糗鸮蕰坼璺栊镝疔瘰谮辋窍让黒劂潋孓螋鲳铙塄萆碲粋纻沭祏电鱲频设试项鄩鳜鳢怍糍鸻仵柰棼氇氆烀镔珉鞬范胶众鸫囝犴镠觇钆蚺蝓趑貔躞氽绂栲鹎襻贪祓继脱郿骝檫砟蝰猱缵沔彖黻眢车陈杂惊龙鮠茛蕈骀樨昝餂镎酡鳜觋礅垆坻荇扃磻郗阇腈铈卧颅级阶衖珙襞劁隈胬纮翙茀荜溱酤脚记许错鱇圯柽瞀铖粞撙铊圹菝回岙漶缏貊徂洎礌脓叶险双馀邠邽溽棰舭艋静聱尢藚佾蕻狁绁牾慝蜱鬘肤亏边发埚堙菥萏玟椟铗颙踬筚矻搠圉浍阅蛸础讨镇芘萜鄗惝毵鲽酞绝哚溷缞逾搦帻铦髫尽盖制载周陆醡儇狴迮锹趱椠赟陔坌悃塍疬麈絜修赒埒镡镨骎骙姜鼩雰稳藴责鲜鳑豨琚觫鲦刳拶掊泐瘗雩麿檗鼂详际褔铟听触灵鲏蒗魟遹攴蝥茆蓁嚆忮篌菧卺郫篠复该贵辩飞犰狳蹁蓐棱蕞喈戋赙磉郤聍铷硏腘兴鸡郁鸣麦鮟秾邗厘矧舁貅眯骢阼墁攮柝梃眚箜簏綮鲩谥茇摅蜾龂脐腻诸鎯脒箬鲻埸颃蒹瞍铫蒐跷幞阯觏媵钬襦簋翮蹯艖猫镰负顺鲿紧蹠攉禊箐镟霪袪劓殂脞霨饾耵泺埤棋鲐鷟兹粪声贴陴橼欢唣蜩埯蓥谞馘谫輶廑瘐躐黟才碍华藭号谈费颜饭縠揠绐鸰搛黹恧柒裒栳钸饸譞贩铕絷蒨蓣迻釆鲕颇鍏䴘郄埘薤鲞鼯坭蔌缳腼筸苹夼椐轹脬眍饹瘥瘵虾志邴鞮舄麄翛睹纩莲唛祂轿纪纤辅钾领螵䴙禛袆邾酲龁汔眄眊鬲阨靸脸赟酺狃轺霅鼷蠃埴鴥队髆纲谨铪碱终综装银萱汆朱同堍揸忭銧妤俯缗讟龠垤擐噍洫滏璁癃邡絁锘趋蒽丝膫茖苏词农录钟鳒盐赕鲻蔯䝙糊躜鳀鹡蠋钲兕阽镒绋铓爝荤螘仂云顗蕺骃蔀诪猹盘齾埕闻举虡评锅阵䌷䜣蔎䍁绖埭驳柁策珧贳贶腩臌礓蹐圬堠屦驵鉴桄沾憝瘳騃茌辀胠埏腠靰鞡辏板铼翘联询课丰赖输迟龄鳠钵邲唼鐻閟篥茈肏萩跐瞢罽铚箦踣菑迹捃瘕睺闲钛鳓暗咸祸窝纯纵圣冲讯马悖鳎睒笰籥耧蜞舡鳌鹀罣觍羶臜剃觔潲枧觌膦礞蝤螗酹醅䌹纁郇躄茼洧滠澉鎭閤赆赇顣骕飑訄挽钩鋹钘陁系鱵党秃贫买贾榀缘诱赋赘鄬钐键只饱齿鯆逿鮀郕镴韵鲙鳁齁铺陧坜坫甍绠恝飗镱骡魋祫笋郙酖遘阘眭餗邶颥篚虒裈麑粚讬鄚轨馈锐纸职膑茎猪违乡阔顶饥驱鱼霉祼镈瞓罶羑黉郐溻肮礴訚谉莛哕滗瀹镚稃眰眳矞硚禋翀苾襕軿逌唪庳殪隃糈龟鲣綎栝轵頠穈翃衒盍矿递苍蝉讱讲购赶钪闪龤薿鱥觝稚觱轘镦筘鲝困蔸镚痦葴猬订泖骟锽眵耩躔鬏黪祔棰舲霓襢贮搋醊廒洚胲饘馂筅鳆鲊丽腄臑诐仳筛帘絪绹膵蕗蝘帙賸葙游饥蓦禘台脏轴钉顷仉氕矔绪胁菢蔂贞卖跍踪军邿邻钢駵骎賨鹟镢鳇监穊蕡鷃鼱褯剞蔟靿饬瘼酴鼢睆硁秬管綖里刭跼蒇挢邆猃闉阓阛靺鞨铥瘅骃觖齮虬瘊绦聴兰讬揲镮钷睪炮税玩荅菉袚贠迹踦遁钜镰叆饾鹡麕睑蟭铔践辗销阁页骤码祯御禀窦编縿旧莼萼芦亲诉谰赞财赢钋鉄锖阊鲯鶕鲯鐏视睐窋笼绿縡缝肃鉏謦卜繐眦稗缊蓇蛣蹾掎哜鄦升飖镲麃祦筰茷螀衮褧賮赗踡揞遝酂酂丑檑氍饨痖髣髳酎鲒鲪鹯诣堤簰蓏薳蓠蓰溯鄜錞靣㶉麟麚齧睊砢碻絃茝庵杂覗诗跂辵邅醨頍觜鸽笭缵蒋茑蛚谳钃餈粗祷臓钝锡纷遥螣铽并纱扎絺絿纬臇臀葍药藙蚁袭觼觿诙谞货贺跃轩轮邉郐酿铀钿炼腽雾韧颀额颤颥鸪斋鋊隤舰噪蒉輋閗鲏鲱鲹绵臐鐇铻鳖込篰痄磡窔筊臜荄参蝀苠郞骒戤麯筼绨翚脧苁蕝詝冁踧茚辌辒郪鄘鄠帱鈇缲雚雟韺镘鬋酾鳣鸯麀麣锵鞚飔鴃齑硚诰醲毳筑絫苎蛔蚕裀察狸踘蟓盦矰磥稛箾胊蓺薾覅讏跅踆暂鄤醰铔閛顑镤鹊伫紩聦饼竞檐访竖趦隶禠籓镥盗簻筹綍缊瓮罢膰膲苇薢薯蚂蛮讧讹诖谆谱岂贤迁钙锻铁閺阎阴颂颊颗饲驾驼骕骡鲣鲗鶒鶗鸶鹰齐硙禜糢镦霮沩飕鴪鮨鳣盝眹睖禫繨荐褱鲅鹓笃踺祦篲团脝茊菫酦醾锳钶鲼鸭箯磷紃脰芃莿菆衽裯褵襆苘乃迩邘猸艴锧柃阘毹脶颋鵀鹫鹍麖稂莅虿裤佧纻緌裲郈鋐糇瓞驙鯙眷瞫碃粳个藤绁纕耈耎脷腘艳苙葹蓂蜑衄衋袿讪讶咏諆讱軃轝邮针鏦镵闾辟峭陼袜骫髠髯鳒鹖龒翯莚転鄷韧骗骅捆绩腊臛赐赠蹒軡锯锥颚銶钖瞩礜穷窜箘篓簜绒绢致繙罁罗羇聪胫艜莱葱蓝藘艺萝螚覂讣诧诟诠詻诚谬译誉趮軠辈辞逊邓鄫鄿釡釢镀锁阒鞗韱颓愿颞饪饺喂冯驰驶骑騺鳑鳖鳛鸱䴕鳌䶮砮绵纑坛蠙輴駹锼瞕洼蚝䌽䴓虰驎荬矿犏鞧鲦鹟盩盻禢禥筈篴胑苲虗秋骢鷭魖蕰謏缔舣褏觽碰蹽轭搌擗哳鉴楗飙篼鬑醑瞷祃祲祻窊簥吁縢缯胔胾脨艕藦虀蚈蛡蜕蝝蟿褦襶覐謪哗貤赪踖軆辀醖屺雊颛飐稆骍舣瞰袗䙓漤阙鬐秸讼齆窌籴纴骂翚耰藇虖蚖蜎蝶蜂詟诜撰豭赵圊腌録窥阤霫鬖鳠鷇黇黡出盏眅磈获窅窾筭簃縩罍翣肊肙臞苶葖蕳蚀蠜裋裈褎襫核觭訏詨诇跱躘轇轕醄宴鏁鐄镳镊辁牿鞝頞瞵饤駃駉騠髪须鲧鲠鲜鹗鹔鹖磭稌綂臿艎茍蒟蜐诡贸趷跄铈铣锷镄饷鲷鰤凤鸺齢砖缈缴聝膴觅诞诫猊贿踥迆迳镖镂铸钻颔鸦鸹砻禄龂铹睙矟磹礀礼篃簬纹纾绞缇缕缪缮缭绕绤罆羁聩臄庄荚芲蓷蓸蔘蒌荛蔷苈蛲蠎蛎袜訑诀诘詸谁诹谀谘讳谟谵獾贯宾赏贉趯踊塥辉舆毂迈钓钠铃钰铭锄鋭锩漭锚锸锏镭镵銮镃阆阈阌陜陕巩韨颁颐颠馆馒驻骂骋骞骚髌鰫鳞鱽鸿鹒鹇䴙鸁獐鼏鼫龈盬祅祃糱縂軷鄮釱铟鑢钑饷箫粛粻馐碗锌靮県臖镕镠颜莴蔊觍赀驴鶸硙窎诒餍荘蒻麻裛鎋鑀佛鸴鼋茢蘁鏻霤霩肴䉤荨蘘雑鵟碔砜礮祘禤秋糯稲穜籒箨粽绲缃縁缒缟纉纒羀膗膟席蟨袄夸欢谽趸輗钇鋕锤千鹒篭䁖硗霸酦巛罐隩飏飮飰餇饐驼睅睍砀礽筥絍绷羵耇吻皋艁茞蒄蒭蚬衟讦诐诇诼䜩豗豷赝冱輀迋逓邝尜镣鞄䯄髽魣鲧鼪龚笀籣垲鉴鹏禔穯薃襛赉穄穵篛蓑緅緍樽端蹎辣酬阇頳驈髲鱮麰鼄鼅鼖眣睎磪秠窑俟筒筚簠秕纠紾绝綅繋繣罥羌羜肸胹唇腬膆膋膘舻艭艳豆蓱蕊薐薠蔺苏蛇蛜蝍虱蟜蟹同衔袟訚譅讹诪谠趡蹡垌躛躩裸軏輵轗釭钹鋂鍐鎴鎸闵隽膪霣韨哺駋騄骾鬙鯈鴂鹢鹥鹯鹴鸧鹙黮齯眕睘碜祀稑笉篟纣绺繁萦伞缳耡艩蓔蔙薆蚿蜽螥蠚袽褛詅诈谐谥赓赑蹧辐郏鄑醁醇釪鋺鎍镉镱镬锧哄霭韧飗饦饪馁驴癀骦鬃鱽鳷鸓鸖鹠黡鼍齰禅筝粮纽绅綀缑瓶耊胪蝇诅谄赂扣钮鏽镯台馍騇髅砫妆蕣趹鄍羭蝄謡闰荡硕秆稙秽竾笐帚箛篜箪簨筜签篱粔纥纴绀绊绛绥綗缀缉缎缌緰缏县缥绳缠罃罝罚膻聡聍聋脳脿腊艑舱樯刍茻荆菐果菣参蓣薖藨藳虏蜗蚊萤蟳蝎茧蠗蜡襾羁覚觏证诿谅谛谚谋谣谟贷贻赅贼赚贽赞跁躯轫軘轲辄辊辇轰醆酝醽钸铋铅铨衔钡锋锂锭锦链铲鐬镶鑴凿镻闲阉阑阐堙霂韩顼顿颌顕颧饰餀饵饿饶驯駜腾骜骄驖骥髞剃鬄鬅鬓闹魵魸鲨鲭鲞鳗鲡鸠鸢鴳鸻鴽䴔鹅鹋鹜鹤鷩鹇鸴麸面龋龝禖箓粤绯翖橹蚡訹喧輂绕铅铜锲镅绗阍闟韭鬃髧鴢瞏笲累胚豊贲逻雘鲫眞矶粿纮舋蠩注岍鉼铺饩骒骖厐祢灶聂荬説钥邻馔驿絓芼蓧詀躜狨鎝鐩霝礐阱羮肰草葇蒪蟅蟢铯関礤鲑鸮鹌鹪鹭龇瞒礿禨穟笎篨緤縚蕊誊跞耽迍鏸飖餟餫馈驆磠笺絣缚绦荙莕莙襌襽赍焊钖鍱骣鑪靷颏骔鲇鲔鲸鱀鱄鳝鲖鸰';

loadKnownWords();

function loadKnownWords() {
	chrome.runtime.sendMessage({want: "knownwords"}, function(response) {
		ta.value = response.knownwords.join("\n");
		updateNumberOfKnownWords(response.knownwords);
	});
	updateWhatToLearn();	
}

document.getElementById('knownwords-save').addEventListener("click", function(){
	chrome.runtime.sendMessage(
		{want: 'saveall', overwrite:false, input: ta.value.split('\n')},
		function(response) {
			alert("Successfully saved " + response.knownwords.length + " words.");
			loadKnownWords();
		});
});

document.getElementById('knownwords-overwrite').addEventListener("click", function(){
	chrome.runtime.sendMessage(
		{want: 'saveall', overwrite:true, input: ta.value.split('\n')},
		function(response) {
			alert("Successfully saved " + response.knownwords.length + " words.");
			loadKnownWords();
		});
});

function numberOfUniqueChars(words) {
	var knownChars = new Set();
	for (var i=0; i<words.length; i++) {
		for (var j=0; j<words[i].length; j++) {
			knownChars.add(words[i][j]);
		}		
	}
	return knownChars.size;
}

function updateNumberOfKnownWords(knownWords) {
	document.getElementById('number-of-words').innerHTML = knownWords.length;
	document.getElementById('number-of-characters').innerHTML = numberOfUniqueChars(knownWords);
}

function updateSliderLabel(val) {
	document.getElementById('known-slider-label').value = val + " ("+ Math.round(10000*val/mostFrequentChars.length)/100 +"%)";
}

knownSlider.addEventListener('input', function(event){
	updateSliderLabel(event.target.valueAsNumber);
});


document.getElementById('known-slider-submit').addEventListener("click", function(){
	var howMany = knownSlider.value;
	
	chrome.runtime.sendMessage(
		{want: 'saveall', overwrite:false, input: mostFrequentChars.substring(0, howMany).split('')},
		function(response) {
			alert("Successfully saved " + response.knownwords.length + " characters.");
			loadKnownWords();
		});
});

updateWhatToLearn();
function updateWhatToLearn() {
	chrome.runtime.sendMessage({want: "knownwords"}, function(response) {
		knownwords = new Set(response.knownwords);
		var firstUnknown = -1;
		var stillWant = 10;
		var charsToLearn = '';
		for (var i=0; i<mostFrequentChars.length;i++){
			if (!knownwords.has(mostFrequentChars[i])) {
				if(firstUnknown === -1) { firstUnknown = i; }
				charsToLearn += mostFrequentChars[i];
				stillWant--;

				if(stillWant==0) break;
			}
		}
		knownSlider.value = firstUnknown;
		updateSliderLabel(firstUnknown);
		document.getElementById('should-learn').innerHTML = charsToLearn;
	});
}
